{"remainingRequest":"/Users/js-air-01/Documents/jj-active-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/js-air-01/Documents/jj-active-main/src/views/DownloadCertificate.vue?vue&type=style&index=0&id=7440f3b6&scoped=true&lang=css&","dependencies":[{"path":"/Users/js-air-01/Documents/jj-active-main/src/views/DownloadCertificate.vue","mtime":1664444399000},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/css-loader/dist/cjs.js","mtime":1664446725326},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1664446728236},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/postcss-loader/src/index.js","mtime":1664446726103},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/cache-loader/dist/cjs.js","mtime":1664446723620},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/vue-loader/lib/index.js","mtime":1664446726975}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubmFtZSB7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNjAlOwogICAgei1pbmRleDogOTk5OwogICAgbGVmdDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7Cn0K"},{"version":3,"sources":["DownloadCertificate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DownloadCertificate.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n    <button class=\"btn btn-primary\" @click=\"exportToPDF\">Print Download</button>\n    <div id=\"element-to-convert\">\n         <!-- <img :src=\"$root.URL_ROOT+'uploads/Certificate/'+certificateData.image\" />  -->\n         <div v-html=\"tempImg\">{{tempImg}}</div>\n            <!-- <img src=\"../assets/img/certificate.png\" /> -->\n        <h1 class=\"name\" :style=\"'color:'+certificateData.color+';font-size:'+certificateData.font+';'\"> {{name}} </h1>\n    </div>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport html2pdf from \"html2pdf.js\";\nexport default {\n    props: [\"data\"],\n    components: {},\n    data() {\n        return {\n            userName: '',\n            certificateName: this.$route.params.name ? this.$route.params.name : '',\n            certificateImage: this.$route.params.image ? this.$route.params.image : '',\n            name: '',\n            image: '',\n            certificateData: [],\n            tempImg:'',\n        };\n    },\n    mounted() {\n        this.goToTop();\n        this.decodeData();\n        this.getCertificates()\n    },\n    methods: {\n        exportToPDF() {\n            html2pdf(document.getElementById(\"element-to-convert\"), {\n                margin: 1,\n                filename: \"certificate.pdf\",\n            });\n        },\n        generatePDF() {\n            // Choose the element that our invoice is rendered in.\n            const element = document.getElementById('invoice');\n            // Choose the element and save the PDF for our user.\n            html2pdf().from(element).save();\n        },\n        decodeData() {\n            if (this.certificateName) {\n                this.name = window.atob(this.certificateName)\n                this.image = window.atob(this.certificateImage)\n                // console.log(this.myData);              \n            }\n        },\n        goToTop() {\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n        getCertificates() {\n            if (this.image) {\n                const axios = require(\"axios\");\n                var self = this;\n                axios.post(this.$root.URL_ROOT + \"api.php\", {\n                        type: \"getMyCertificate\",\n                        id: self.image,\n                    })\n                    .then(function (response) {\n                        var data = response.data;\n                        console.log(data);\n                        self.certificateData = data.certificate;\n                        var img=self.$root.URL_ROOT+`uploads/Certificate/`+self.certificateData.image;\n                        self.tempImg='<img src=\"'+img+'\" />';\n                    });\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.name {\n    font-weight: bold;\n    position: absolute;\n    top: 60%;\n    z-index: 999;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n</style>\n"]}]}