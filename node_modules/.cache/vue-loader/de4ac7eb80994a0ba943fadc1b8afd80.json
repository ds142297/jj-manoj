{"remainingRequest":"/Users/js-air-01/Documents/jj-active-main/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/js-air-01/Documents/jj-active-main/src/views/DownloadCertificate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/js-air-01/Documents/jj-active-main/src/views/DownloadCertificate.vue","mtime":1664444399000},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/cache-loader/dist/cjs.js","mtime":1664446723620},{"path":"/Users/js-air-01/Documents/jj-active-main/node_modules/vue-loader/lib/index.js","mtime":1664446726975}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBodG1sMnBkZiBmcm9tICJodG1sMnBkZi5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbImRhdGEiXSwKICAgIGNvbXBvbmVudHM6IHt9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICAgIGNlcnRpZmljYXRlTmFtZTogdGhpcy4kcm91dGUucGFyYW1zLm5hbWUgPyB0aGlzLiRyb3V0ZS5wYXJhbXMubmFtZSA6ICcnLAogICAgICAgICAgICBjZXJ0aWZpY2F0ZUltYWdlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaW1hZ2UgPyB0aGlzLiRyb3V0ZS5wYXJhbXMuaW1hZ2UgOiAnJywKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIGltYWdlOiAnJywKICAgICAgICAgICAgY2VydGlmaWNhdGVEYXRhOiBbXSwKICAgICAgICAgICAgdGVtcEltZzonJywKICAgICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5nb1RvVG9wKCk7CiAgICAgICAgdGhpcy5kZWNvZGVEYXRhKCk7CiAgICAgICAgdGhpcy5nZXRDZXJ0aWZpY2F0ZXMoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBleHBvcnRUb1BERigpIHsKICAgICAgICAgICAgaHRtbDJwZGYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVsZW1lbnQtdG8tY29udmVydCIpLCB7CiAgICAgICAgICAgICAgICBtYXJnaW46IDEsCiAgICAgICAgICAgICAgICBmaWxlbmFtZTogImNlcnRpZmljYXRlLnBkZiIsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZ2VuZXJhdGVQREYoKSB7CiAgICAgICAgICAgIC8vIENob29zZSB0aGUgZWxlbWVudCB0aGF0IG91ciBpbnZvaWNlIGlzIHJlbmRlcmVkIGluLgogICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludm9pY2UnKTsKICAgICAgICAgICAgLy8gQ2hvb3NlIHRoZSBlbGVtZW50IGFuZCBzYXZlIHRoZSBQREYgZm9yIG91ciB1c2VyLgogICAgICAgICAgICBodG1sMnBkZigpLmZyb20oZWxlbWVudCkuc2F2ZSgpOwogICAgICAgIH0sCiAgICAgICAgZGVjb2RlRGF0YSgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY2VydGlmaWNhdGVOYW1lKSB7CiAgICAgICAgICAgICAgICB0aGlzLm5hbWUgPSB3aW5kb3cuYXRvYih0aGlzLmNlcnRpZmljYXRlTmFtZSkKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSB3aW5kb3cuYXRvYih0aGlzLmNlcnRpZmljYXRlSW1hZ2UpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm15RGF0YSk7ICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ29Ub1RvcCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICAgICAgICB9LAogICAgICAgIGdldENlcnRpZmljYXRlcygpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2UpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QodGhpcy4kcm9vdC5VUkxfUk9PVCArICJhcGkucGhwIiwgewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZ2V0TXlDZXJ0aWZpY2F0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzZWxmLmltYWdlLAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2VydGlmaWNhdGVEYXRhID0gZGF0YS5jZXJ0aWZpY2F0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZz1zZWxmLiRyb290LlVSTF9ST09UK2B1cGxvYWRzL0NlcnRpZmljYXRlL2Arc2VsZi5jZXJ0aWZpY2F0ZURhdGEuaW1hZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudGVtcEltZz0nPGltZyBzcmM9IicraW1nKyciIC8+JzsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAp9Owo="},{"version":3,"sources":["DownloadCertificate.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DownloadCertificate.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n    <button class=\"btn btn-primary\" @click=\"exportToPDF\">Print Download</button>\n    <div id=\"element-to-convert\">\n         <!-- <img :src=\"$root.URL_ROOT+'uploads/Certificate/'+certificateData.image\" />  -->\n         <div v-html=\"tempImg\">{{tempImg}}</div>\n            <!-- <img src=\"../assets/img/certificate.png\" /> -->\n        <h1 class=\"name\" :style=\"'color:'+certificateData.color+';font-size:'+certificateData.font+';'\"> {{name}} </h1>\n    </div>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport html2pdf from \"html2pdf.js\";\nexport default {\n    props: [\"data\"],\n    components: {},\n    data() {\n        return {\n            userName: '',\n            certificateName: this.$route.params.name ? this.$route.params.name : '',\n            certificateImage: this.$route.params.image ? this.$route.params.image : '',\n            name: '',\n            image: '',\n            certificateData: [],\n            tempImg:'',\n        };\n    },\n    mounted() {\n        this.goToTop();\n        this.decodeData();\n        this.getCertificates()\n    },\n    methods: {\n        exportToPDF() {\n            html2pdf(document.getElementById(\"element-to-convert\"), {\n                margin: 1,\n                filename: \"certificate.pdf\",\n            });\n        },\n        generatePDF() {\n            // Choose the element that our invoice is rendered in.\n            const element = document.getElementById('invoice');\n            // Choose the element and save the PDF for our user.\n            html2pdf().from(element).save();\n        },\n        decodeData() {\n            if (this.certificateName) {\n                this.name = window.atob(this.certificateName)\n                this.image = window.atob(this.certificateImage)\n                // console.log(this.myData);              \n            }\n        },\n        goToTop() {\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n        getCertificates() {\n            if (this.image) {\n                const axios = require(\"axios\");\n                var self = this;\n                axios.post(this.$root.URL_ROOT + \"api.php\", {\n                        type: \"getMyCertificate\",\n                        id: self.image,\n                    })\n                    .then(function (response) {\n                        var data = response.data;\n                        console.log(data);\n                        self.certificateData = data.certificate;\n                        var img=self.$root.URL_ROOT+`uploads/Certificate/`+self.certificateData.image;\n                        self.tempImg='<img src=\"'+img+'\" />';\n                    });\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.name {\n    font-weight: bold;\n    position: absolute;\n    top: 60%;\n    z-index: 999;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n</style>\n"]}]}